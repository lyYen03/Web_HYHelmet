<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thành viên</title>
    <link rel="icon" href="../img/icontrangchu/logo.jpg" type="image/x-icon">
    <link rel="shortcut icon" href="../img/icontrangchu/logo.jpg" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../bootstrap-icons-1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/form.css">

    <!-- js -->
    <script src="../js/jquery-3.4.1.min.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script src="../js/popper.min.js"></script>
    <script src="../js/products.js"></script>

    <style>

    </style>
</head>

<body>
    <div style="height: 100%;" class="container-fuild">
        <div class="fixed">
            <!--  -->
            <div class="container-fluid py-2" id="top-header">
                <div class="row align-items-center">
                    <!-- Date Display -->
                    <div class="col-md-3 text-center text-md-start my-1">
                        <i class="bi bi-calendar-event"></i>
                        <span id="dateNow"></span>
                    </div>

                    <!-- Contact Links -->
                    <div class="col-md-9 d-flex justify-content-end">
                        <ul id="top-contact" class="list-inline mb-0">
                            <li class="list-inline-item mx-2">
                                <a href="../html/thanh-vien.html" class="text-black text-decoration-none">
                                    <i class="bi bi-people"></i> Thành viên
                                </a>
                            </li>
                            <li class="list-inline-item mx-2">
                                <a href="../html/dangky.html" class="text-black text-decoration-none">
                                    <i class="bi bi-pencil-square"></i> Đăng ký
                                </a>
                            </li>
                            <li class="list-inline-item mx-2">
                                <a href="../html/dangnhap.html" class="text-black text-decoration-none">
                                    <i class="bi bi-box-arrow-in-right"></i> Đăng nhập
                                </a>
                            </li>
                            <li class="list-inline-item mx-2">
                                <a href="../html/lienhe.html" class="text-black text-decoration-none">
                                    <i class="bi bi-info-circle"></i> Liên hệ
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>




            <!-- end top header -->

            <!-- Navbar Start -->
            <nav class="navbar navbar-expand-xl navbar-dark sticky-top p-2" id="navbar-menu">
                <!-- Brand and Logo -->
                <a class="navbar-brand" href="../html/index.html">
                    <img src="../img/icontrangchu/logo.jpg" alt="logo" style="width: 50px; border-radius: 10px;">
                </a>
                <a href="../html/index.html" class="navbar-brand font-weight-bold"> HY HELMET</a>

                <!-- Toggler button for mobile view -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa-solid fa-bars text-dark"></i>
                </button>

                <!-- Navbar links -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto" id="nav-menu-link">
                        <li class="nav-item active">
                            <a class="nav-link" href="../html/index.html"><i class="bi bi-house-door-fill"></i> TRANG CHỦ</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../html/gioithieu.html"><i class="bi bi-info-circle"></i> GIỚI THIỆU</a>
                        </li>

                        <!-- Dropdown -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="" id="navbardrop" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-list"></i> SẢN PHẨM <i class="bi bi-caret-down-fill"></i>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbardrop">
                                <li><a class="dropdown-item" href="../html/sanpham.html">Tất cả sản phẩm</a></li>
                                <li><a class="dropdown-item" href="../html/non_34.html">Mũ bảo hiểm 3/4 đầu</a></li>
                                <li><a class="dropdown-item" href="../html/non_fullface.html">Mũ bảo hiểm Fullface</a></li>
                                <li><a class="dropdown-item" href="../html/non_12.html">Mũ bảo hiểm 1/2 đầu</a></li>
                                <li><a class="dropdown-item" href="../html/nonxedap.html">Mũ bảo hiểm Xe Đạp</a></li>
                                <li><a class="dropdown-item" href="../html/kids.html">Mũ bảo hiểm trẻ em</a></li>
                                <li><a class="dropdown-item" href="../html/phukien.html">Phụ Kiện</a></li>
                                <li><a class="dropdown-item" href="../html/kinh.html">Kính</a></li>
                                <li><a class="dropdown-item" href="../html/gangtay.html">Găng Tay</a></li>
                                <li><a class="dropdown-item" href="../html/khac.html">Khác</a></li>
                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="../html/khuyenmai.html"><i class="bi bi-tag-fill"></i> KHUYẾN MÃI</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../html/blog.html"><i class="bi bi-chat-dots-fill"></i> BÀI VIẾT</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="../html/sitemap.html"><i class="bi bi-map-fill"></i> SITE MAP</a>
                        </li>
                    </ul>

                    <!-- Tìm kiếm và tài khoản/gio hàng ở góc phải -->
                    <div class="d-flex align-items-center ms-3">
                        <div class="search-container">
                            <input type="text" id="search-input" placeholder="Tìm kiếm sản phẩm..." />
                            <button id="search-button" onclick="toggleSearchInput()">
                                <img src="../img/icon/btsearch.png" alt="Search" />
                            </button>
                        </div>



                        <div class="taiKhoan-gioHang ms-3">
                            <a href="../html/thanhtoan.html" id="cart-icon" onmouseover="showCartItems()">
                                <i style="font-size: 30px !important; color: white;" class="bi bi-cart-fill"></i>
                                <span style="color: white;" id="cart-item-count" class="badge bg-warning rounded-circle">0</span>
                            </a>
                            <div id="cart-items-container" class="cart-items-container">
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- Navbar End -->

        </div>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../html/index.html">Trang chủ</a></li>
                <li class="breadcrumb-item"><a href="../html/thanh-vien.html" class="text-dark">Thành viên</a></li>
            </ol>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <div id="section">
                    <div id="members" class="container" style="min-height: 51vh;">
                        <div class="text-center p-3"><span class="display-4 text-center">THÔNG TIN THÀNH VIÊN</span></div>
                        <table class="table" id="memberTable">
                            <thead>
                                <tr>
                                    <th>Họ và tên</th>
                                    <th>Tên đăng nhập</th>
                                    <th>Email</th>
                                    <th>Số điện thoại</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="memberList">
                                <!-- Dữ liệu thành viên sẽ được thêm vào đây -->
                            </tbody>
                        </table>
                        <div class="text-center d-flex justify-content-around">
                            <a href="../html/dangky.html"><button type="button" class="btn btn-dark">Đăng ký</button></a>
                            <a href="../html/dangnhap.html"><button type="button" class="btn btn-dark">Đăng nhập</button></a>
                        </div>
                    </div>
                    <div id="editFormContainer" class="container" style="display: none;">
                        <h3>Chỉnh sửa thông tin</h3>
                        <form id="editForm">
                            <div class="mb-3">
                                <label for="fullName" class="form-label">Họ và tên</label>
                                <input type="text" class="form-control" id="fullName" required>
                            </div>
                            <div class="mb-3">
                                <label for="username" class="form-label">Tên đăng nhập</label>
                                <input type="text" class="form-control" id="username" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="phoneNumber" class="form-label">Số điện thoại</label>
                                <input type="tel" class="form-control" id="phoneNumber" required>
                            </div>
                            <button type="submit" class="btn btn-dark mb-2">Lưu thay đổi</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>






    </div>
    <!--  -->

    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <h5>LIÊN HỆ</h5>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-geo-alt-fill"></i> Địa chỉ: Gò Vấp, TPHCM</li>
                        <li><i class="bi bi-telephone-fill"></i> Số điện thoại: 0123456789</li>
                        <li><i class="bi bi-envelope-fill"></i> Email: HYHelmet@gmail.com</li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>CHÍNH SÁCH</h5>
                    <ul>
                        <li><a href="../html/index.html">Trang chủ</a></li>
                        <li><a href="../html/gioithieu.html">Giới thiệu</a></li>
                        <li><a href="../html/sanpham.html">Sản phẩm</a></li>
                        <li><a href="../html/khuyenmai.html">Khuyến mãi</a></li>
                        <li><a href="../html/blog.html">Bài viết</a></li>
                        <li><a href="#">Site map</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>HỖ TRỢ KHÁCH HÀNG</h5>
                    <ul>
                        <li><a href="#">Chính sách bảo mật</a></li>
                        <li><a href="#">Điều khoản dịch vụ</a></li>
                        <li><a href="#">Theo dõi đơn hàng</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <div class="cty-follow-us mb-3">
                        <h5>TƯƠNG TÁC VỚI CHÚNG TÔI</h5>
                        <ul id="bottom-social-media" class="font-size-large">
                            <li class="list-inline-item mx-2"><a href="#"><i class="bi bi-facebook"></i></a></li>
                            <li class="list-inline-item mx-2"><a href="#"><i class="bi bi-instagram"></i></a></li>
                            <li class="list-inline-item mx-2"><a href="#"><i class="bi bi-tiktok"></i></a></li>
                            <li class="list-inline-item mx-2"><a href="#"><i class="bi bi-youtube"></i></a></li>
                        </ul>
                    </div>

                    <div class="mb-3">
                        <h5>PHƯƠNG THỨC THANH TOÁN</h5>
                        <ul class="nav">
                            <li class="mx-1"><img src="../img/img/payment_1_img.webp" alt="Payment Method 1"></li>
                            <li class="mx-1"><img src="../img/img/payment_2_img.webp" alt="Payment Method 2"></li>
                            <li class="mx-1"><img src="../img/img/payment_3_img.webp" alt="Payment Method 3"></li>
                        </ul>
                    </div>

                    <div class="mb-3">
                        <h5>PHƯƠNG THỨC VẬN CHUYỂN</h5>
                        <ul class="nav">
                            <li class="mx-1"><img src="../img/img/shipment_1_img.webp" alt="Shipping Method 1"></li>
                            <li class="mx-1"><img src="../img/img/shipment_2_img.webp" alt="Shipping Method 2"></li>
                            <li class="mx-1"><img src="../img/img/shipment_3_img.webp" alt="Shipping Method 3"></li>
                            <li class="mx-1"><img src="../img/img/shipment_4_img.webp" alt="Shipping Method 4"></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="text-center">
                <p>&copy; Bản quyền thuộc về HY HELMET.</p>
            </div>
        </div>
    </footer>

    <script>
        // Lấy thông tin người dùng từ localStorage
        const user = JSON.parse(localStorage.getItem("user"));

        if (user) {
            // Hiển thị thông tin thành viên
            document.getElementById('memberList').innerHTML = `
                <tr>
                    <td>${user.fullname}</td>
                    <td>${user.username}</td>
                    <td>${user.email}</td>
                    <td>${user.phone}</td>
                    <td><button class="btn btn-warning" onclick="showEditForm()">Chỉnh sửa</button></td>
                </tr>
            `;
        } else {
            console.log("Không tìm thấy thông tin người dùng trong localStorage");
        }

        // Hiển thị form chỉnh sửa và ẩn thông tin thành viên
        function showEditForm() {
            console.log("Nút chỉnh sửa đã được nhấn");
            document.getElementById('members').style.display = 'none'; // Ẩn phần chứa thông tin
            document.getElementById('editFormContainer').style.display = 'block'; // Hiện form chỉnh sửa

            // Điền dữ liệu vào form
            document.getElementById('fullName').value = user.fullname;
            document.getElementById('username').value = user.username;
            document.getElementById('email').value = user.email;
            document.getElementById('phoneNumber').value = user.phone;
            console.log("Form chỉnh sửa đã được hiển thị");
        }

        // Lắng nghe sự kiện submit để lưu thay đổi
        document.getElementById('editForm').onsubmit = function(event) {
            event.preventDefault();

            // Cập nhật thông tin người dùng
            user.fullname = document.getElementById('fullName').value;
            user.username = document.getElementById('username').value;
            user.email = document.getElementById('email').value;
            user.phone = document.getElementById('phoneNumber').value;

            // Lưu lại vào localStorage
            localStorage.setItem("user", JSON.stringify(user));
            console.log("Thông tin người dùng đã được cập nhật");

            // Cập nhật lại trang thông tin thành viên và ẩn form chỉnh sửa
            document.getElementById('memberList').innerHTML = `
        <tr>
            <td>${user.fullname}</td>
            <td>${user.username}</td>
            <td>${user.email}</td>
            <td>${user.phone}</td>
            <td><button class="btn btn-warning" onclick="showEditForm()">Chỉnh sửa</button></td>
        </tr>
    `;
            document.getElementById('members').style.display = 'block'; // Hiển thị lại thông tin
            document.getElementById('editFormContainer').style.display = 'none'; // Ẩn form chỉnh sửa
            console.log("Thông tin thành viên đã được hiển thị lại");
        };
    </script>




</body>

</html>